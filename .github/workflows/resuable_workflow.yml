name: reusable workflow
on:
    workflow_call: 
     inputs:
       image-name:
         description: 'Name of the image'
         type: string
         required: true
       image-tag:
         description: 'Tag for the image'
         type: string
         required: true
       registry-username:
         description: 'Username for Docker registry '
         type: string
         required: false
       registry-password:
         description: 'Password for Docker registry'
         type: string
         required: false
jobs:
 docker_build:
          runs-on: ubuntu-latest
          name: Building Docker Image  
          steps:
           -
            name: Login to Docker Hub
            uses: docker/login-action@v3
            with:
              username: ${{ inputs.registry-username }}
              password: ${{ inputs.registry-password }}  
           -
              name: Set up Docker Buildx
              uses: docker/setup-buildx-action@v3   
           -
            name: Build and push
            uses: docker/build-push-action@v6
            with:
              push: true
              tags: ${{ inputs.registry-username}}/${{ inputs. image-name}}:${{ inputs. image-tag}}
